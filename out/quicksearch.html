<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"views_welcomeWeek_WelcomeWeekView.js.html":{"id":"views_welcomeWeek_WelcomeWeekView.js.html","title":"Source: views/welcomeWeek/WelcomeWeekView.js","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Source: views/welcomeWeek/WelcomeWeekView.js /** * View for Welcome Week events * Triggered by onPress from Special Events Card in Home.js **/ import React, { Component } from 'react'; import { ListView, Text, View, TouchableOpacity, Image, InteractionManager, RefreshControl, ActivityIndicator, } from 'react-native'; import WelcomeWeekService from '../../services/welcomeWeekService'; import EventDetail from '../events/EventDetail'; import css from '../../styles/css'; const logger = require('../../util/logger'); const collegeNames = [ { name: 'Roosevelt' }, { name: 'Marshall' }, { name: 'Muir' }, { name: 'Revelle' }, { name: 'Sixth' }, { name: 'Warren' }, { name: 'Village' }, ]; export default class WelcomeWeekView extends Component { /** * Represents view for Welcome Week events * @param { Object[] } props - An array of properties passed in **/ constructor(props) { super(props); this.fetchErrorInterval = 15 * 1000; // Retry every 15 seconds this.fetchErrorLimit = 3; this.fetchErrorCounter = 0; const getSectionData = (dataBlob, sectionID) =&gt; dataBlob[sectionID]; const getRowData = (dataBlob, sectionID, rowID) =&gt; dataBlob[sectionID + ':' + rowID]; this.state = { welcomeWeekData: {}, fetchErrorLimitReached: false, loaded : false, refreshing: false, dataSource : new ListView.DataSource({ getSectionData, getRowData, rowHasChanged : (row1, row2) =&gt; row1 !== row2, sectionHeaderHasChanged : (s1, s2) =&gt; s1 !== s2 }) }; } /** * Invoked before render **/ componentWillMount() { } /** * Invoked after render **/ componentDidMount() { InteractionManager.runAfterInteractions(() =&gt; { this._fetchData(); }); } /** * Called after state change * @return bool whether the component should re-render. **/ shouldComponentUpdate(nextProps, nextState) { logger.log('shouldComponentUpdate WelcomeView'); return true; } /** * Invoked before component is unmounted from DOM **/ componentWillUnmount() { } gotoEventDetail(eventData) { this.props.navigator.push({ id: 'EventDetail', name: 'EventDetail', title: 'Event', component: EventDetail, eventData }); } _fetchData = () =&gt; { this.setState({ refreshing: true }); // Fetch data from API WelcomeWeekService.FetchEvents() .then((responseData) =&gt; { const dataBlob = {}, sectionIDs = [], rowIDs = []; let college, i, j; // Loop through each college for (i = 0; i &lt; collegeNames.length; i++) { college = collegeNames[i]; sectionIDs.push(college.name); dataBlob[college.name] = college.name; rowIDs[i] = []; // Loop through remaining events for (j = 0; j &lt; responseData.length; ++j) { // Remove event from responses // Add to row data if (responseData[j].EventCollege === college.name) { rowIDs[i].push(responseData[j].wtsEventID); dataBlob[college.name + ':' + responseData[j].wtsEventID] = responseData.splice(j, 1)[0]; --j; } } } this.setState({ dataSource : this.state.dataSource.cloneWithRowsAndSections(dataBlob, sectionIDs, rowIDs), loaded: true, refreshing: false, }); }) .catch((error) =&gt; { logger.error(error); if (this.fetchErrorLimit &gt; this.fetchErrorCounter) { this.fetchErrorCounter++; logger.log('ERR: fetchTopStories: refreshing again in ' + (this.fetchErrorInterval / 1000) + ' sec'); this.refreshTimer = setTimeout( () =&gt; { this.refresh(); }, this.fetchErrorInterval); } else { logger.log('ERR: fetchTopStories: Limit exceeded - max limit:' + this.fetchErrorLimit); this.setState({ fetchErrorLimitReached: true }); } }); } _renderRow = (rowData, sectionID, rowID) =&gt; { let description = rowData.EventDescription; const title = rowData.EventTitle, image = rowData.EventImage, date = rowData.EventDate; description = description.replace(/\\?.*/g,'?').replace(/!.*/g,'!').replace(/\\..*/g,'.').replace(/\\(.*/g,''); if (date[0] === 'NA') { return ( &lt;View style={css.welcome_list_row}&gt; &lt;View style={css.welcome_list_left_container}&gt; &lt;Text style={css.welcome_list_title}&gt;{title}&lt;/Text&gt; &lt;Text style={css.welcome_list_desc}&gt;{description}&lt;/Text&gt; &lt;/View&gt; &lt;Image style={css.events_list_image} source={{ uri: image }} /&gt; &lt;/View&gt; ); } else { return ( &lt;TouchableOpacity underlayColor={'rgba(200,200,200,.1)'} onPress={() =&gt; this.gotoEventDetail(rowData)}&gt; &lt;View style={css.welcome_list_row}&gt; &lt;View style={css.welcome_list_left_container}&gt; &lt;Text style={css.welcome_list_title}&gt;{title}&lt;/Text&gt; &lt;Text style={css.welcome_list_desc}&gt;{description}&lt;/Text&gt; &lt;Text style={css.welcome_list_postdate}&gt;{date}&lt;/Text&gt; &lt;/View&gt; &lt;Image style={css.events_list_image} source={{ uri: image }} /&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; ); } } _renderSectionHeader = (sectionData, sectionID) =&gt; &lt;View style={css.welcome_list_section}&gt; &lt;Text style={css.welcome_list_sectionText}&gt;{sectionData}&lt;/Text&gt; &lt;/View&gt; renderLoadingView = () =&gt; &lt;View style={css.main_container}&gt; &lt;ActivityIndicator animating={this.state.animating} style={css.welcome_ai} size=&quot;large&quot; /&gt; &lt;/View&gt; renderListView() { return ( &lt;View style={css.main_container}&gt; &lt;ListView style={css.welcome_listview} dataSource={this.state.dataSource} renderRow={this._renderRow} renderSectionHeader={this._renderSectionHeader} enableEmptySections={true} refreshControl={ &lt;RefreshControl refreshing={this.state.refreshing} onRefresh={this._fetchData} /&gt; } /&gt; &lt;/View&gt; ); } render() { if (!this.state.loaded) { return this.renderLoadingView(); } return this.renderListView(); } } × Search results Close "},"util_map.js.html":{"id":"util_map.js.html","title":"Source: util/map.js","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Source: util/map.js /** * Converts from degrees to radians * @param {number} degrees - The quantity in degrees * @return {number} The quantity, now in radians */ Math.radians = function (degrees) { return (degrees * Math.PI) / 180; }; /** * Converts from radians to degrees * @param {number} radians - The quantity in radians * @return {number} The quantity, now in degrees */ Math.degrees = function (radians) { return (radians * 180) / Math.PI; }; /** * A module containing map-related helper functions * @module util/map */ module.exports = { /** * Gets the surface distance between two Earth coordinates in meters * @function * @param {number} lat1 The latitude of the first point * @param {number} lon1 The longitude of the first point * @param {number} lat2 The latitude of the second point * @param {number} lon2 The longitude of the second point * @return {number|null} Null if any of the inputs were null. Otherwise, the distance in meters (rounded down the nearest integer) */ getDistance(lat1, lon1, lat2, lon2) { if (lat1 &amp;&amp; lon1 &amp;&amp; lat2 &amp;&amp; lon2) { const Phi1 = Math.radians(lat1); const Phi2 = Math.radians(lat2); const DeltaLambda = Math.radians(lon2 - lon1); const EarthRadius = 6371000; // Earth radius in meters const DistanceMeters = Math.acos( (Math.sin(Phi1) * Math.sin(Phi2)) + (Math.cos(Phi1) * Math.cos(Phi2) * Math.cos(DeltaLambda)) ) * EarthRadius; return Math.floor(DistanceMeters); } else { return null; } }, /** * Gets the coordinates of the midpoint between two coordinates * @function * @param {number} lat1 The latitude of the first point * @param {number} lon1 The longitude of the first point * @param {number} lat2 The latitude of the second point * @param {number} lon2 The longitude of the second point * @returns {number[]} The midpoint coordinates stored in a 2-length array with the form {latitude, longitude} */ getMidpointCoords(lat1, lon1, lat2, lon2) { if (lat1 &amp;&amp; lon1 &amp;&amp; lat2 &amp;&amp; lon2) { lat1 = Math.radians(lat1); lon1 = Math.radians(lon1); lat2 = Math.radians(lat2); lon2 = Math.radians(lon2); const bx = Math.cos(lat2) * Math.cos(lon2 - lon1); const by = Math.cos(lat2) * Math.sin(lon2 - lon1); const lat3 = Math.atan2(Math.sin(lat1) + Math.sin(lat2), Math.sqrt((Math.cos(lat1) + bx) * (Math.cos(lat1) + bx) + Math.pow(by, 2))); const lon3 = lon1 + Math.atan2(by, Math.cos(lat1) + bx); return [Math.round(Math.degrees(lat3), 5), Math.round(Math.degrees(lon3), 5)]; } else { return null; } } }; × Search results Close "},"util_general.js.html":{"id":"util_general.js.html","title":"Source: util/general.js","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Source: util/general.js import { Animated, Easing, Platform, Linking, Dimensions, } from 'react-native'; const dateFormat = require('dateformat'); const logger = require('./logger'); /** * A module containing general helper functions * @module util/general */ module.exports = { /** * Gets whether or not the current platform the app is running on is IOS * @function * @returns {boolean} True if the platform is IOS, false otherwise */ platformIOS() { return Platform.OS === 'ios'; }, /** * Gets whether or not the current platform the app is running on is Android * @function * @returns {boolean} True if the platform is Android, false otherwise */ platformAndroid() { return Platform.OS === 'android'; }, /** * Gets the current platform ths app is running on * @function * @returns {string} The platform name */ getPlatform() { return Platform.OS; }, /** * Converts a numerical quantity from meters to miles * @function * @param {number} meters The quantity to convert * @returns {number} The quantity now converted into miles */ convertMetersToMiles(meters) { return (meters / 1609.344); }, /** * Gets a string representation of a given quantity of miles (up to and including a single decimal place) * @function * @param {number} miles The quantity to convert to a string * @returns {number} The miles quantity now as a string */ getDistanceMilesStr(miles) { return (miles.toFixed(1) + ' mi'); }, /** * Attempts to open the provided URL for displaying to the user * @function * @param {string} url The URL to open * @returns {boolean|undefined} If the URL cannot be opened, this logs to console. Otherwise, returns true. * False can only be returned if the ability to open a URL changes between the check and the opening itself. * @todo Develop a more explicit/consistent return for this method */ openURL(url) { Linking.canOpenURL(url).then(supported =&gt; { if (!supported) { logger.log('ERR: openURL: Unable to handle url: ' + url); } else { return Linking.openURL(url); } }).catch(err =&gt; logger.log('ERR: openURL: ' + err)); }, /** * Gets the URL for obtaining directions to a given location via a given transportation method * @function * @param {string} method Can be &quot;walk&quot; or anything else. Anything else will result in a URL for driving. * @param {string|number} stopLat The latitude of the destination * @param {string|number} stopLon The longitude of the destination * @return {string} A platform-specific URL for obtaining the directions */ getDirectionsURL(method, stopLat, stopLon) { let directionsURL; if (this.platformIOS()) { if (method === 'walk') { directionsURL = 'http://maps.apple.com/?saddr=Current%20Location&amp;daddr=' + stopLat + ',' + stopLon + '&amp;dirflg=w'; } else { // Default to driving directions directionsURL = 'http://maps.apple.com/?saddr=Current%20Location&amp;daddr=' + stopLat + ',' + stopLon + '&amp;dirflg=d'; } } else { if (method === 'walk') { // directionsURL = 'https://www.google.com/maps/dir/' + startLat + ',' + startLon + '/' + stopLat + ',' + stopLon + '/@' + startLat + ',' + startLon + ',18z/data=!4m2!4m1!3e1'; directionsURL = 'https://maps.google.com/maps?saddr=Current+Location&amp;daddr=' + stopLat + ',' + stopLon + '&amp;dirflg=w'; } else { // Default to driving directions directionsURL = 'https://maps.google.com/maps?saddr=Current+Location&amp;daddr=' + stopLat + ',' + stopLon + '&amp;dirflg=d'; } } return directionsURL; }, /** * Attempts to redirect the device to its navigation app * @function * @param {string} method Currently not used, can be anything * @param {string|number} destinationLat The destination's latitude * @param {string|number} destinationLon The destination's longitude */ gotoNavigationApp(destinationLat, destinationLon) { const destinationURL = module.exports.getDirectionsURL('walk', destinationLat, destinationLon ); module.exports.openURL(destinationURL); }, /** * Begins the app's reloading animation with specific parameters * @function * @param {View|Text|Image|Object} anim The animation to use * @param {number} toVal The value to approach * @param {number} duration The duration of the animation */ startReloadAnimation2(anim, toVal, duration) { Animated.timing(anim, { toValue: toVal, duration, easing: Easing.linear }).start(); }, /** * Begins the app's reloading animation * @function * @param {View|Text|Image|Object} anim The animation to use */ startReloadAnimation(anim) { Animated.timing(anim, { toValue: 100, duration: 60000, easing: Easing.linear }).start(); }, /** * Stops the specified reload animation * @function * @param {View|Text|Image|Object} anim The animation to stop */ stopReloadAnimation(anim) { Animated.timing(anim, { toValue: 0, duration: 0 }).start(); }, /** * Rounds a number to the nearest integer * As examples: 2.49 will be rounded down to 2, while 2.5 will be rounded up to 3 * @function * @param {number} number The number to round * @returns {number} The rounded number */ round(number) { return Math.round(number); }, /** * Gets the pixel-ratio-modifier needed for this device window * The modifier is a ratio to be used for scaling GUI elements based on the default sizes * @function * @returns {number} The ratio of current window width vs the app's default width * @todo The variable windowHeight is unused */ getPRM() { const windowWidth = Dimensions.get('window').width; const windowHeight = Dimensions.get('window').height; const appDefaultWidth = 414; return (windowWidth / appDefaultWidth); }, /** * Modifies the input value by the pixel-ration-modifier * This can be used to scale a GUI element's size for the current device * @function * @param {number} num The number/size to scale * @returns {number} The now-scaled number/size * @todo This method could call this.getPRM() to prevent redundant code */ doPRM(num) { const windowWidth = Dimensions.get('window').width; const appDefaultWidth = 414; const prm = (windowWidth / appDefaultWidth); return Math.round(num * prm); }, /** * Gets the maximum width for a card occupying a screen/window * @function * @returns {number} The maximum width in pixels */ getMaxCardWidth() { const windowSize = Dimensions.get('window'); const windowWidth = windowSize.width; return windowWidth - 2 - 12; }, /** * Gets the UCSD campus primary color in hexidecimal form * @function * @returns {string} The string &quot;#182B49&quot; which represents a dark blue color */ getCampusPrimary() { return '#182B49'; }, /** * Gets the current timestamp in seconds * @function * @returns {number} The number of seconds since midnight Jan 1, 1970 */ getCurrentTimestamp() { return Math.round(Date.now() / 1000); }, /** * Gets the current timestamp formatted as a string * @function * @returns {string} The current time formatted to &quot;yyyymmdd&quot; */ getTimestampNumeric() { return (dateFormat(Date.now(), 'yyyymmdd')); }, /** * Gets the current timestamp in a specified format * @function * @param {string} The format to use (e.g. &quot;yyyymmdd&quot;) * @returns {string} The formatted current time */ getTimestamp(format) { return (dateFormat(Date.now(), format)); }, /** * Gets the current date * @function * @returns {number} The number of milliseconds since midnight Jan 1, 1970 */ getDateNow() { return (Date.now()); }, /** * Converts a time string provided in military form to AM-PM form * @function * @param {string} The time in military form * @returns {string} The time in AM-PM form */ militaryToAMPM(time) { if (time) { let militaryTime = time.substring(0, 5).replace(':',''); let militaryTimeHH, militaryTimeMM, militaryTimeAMPM; militaryTime = militaryTime.replace(/^0/,''); if (militaryTime.length === 3) { militaryTimeHH = militaryTime.substring(0,1); militaryTimeMM = militaryTime.substring(1,3); } else if (militaryTime.length === 4) { militaryTimeHH = militaryTime.substring(0,2); militaryTimeMM = militaryTime.substring(2,4); } if (militaryTimeHH &lt; 12) { militaryTimeAMPM = 'am'; } else { militaryTimeAMPM = 'pm'; } if (militaryTimeHH &gt; 12) { militaryTimeHH -= 12; } if (militaryTimeHH === '0') { militaryTimeHH = '12'; } if (militaryTimeMM === '00') { militaryTimeMM = ''; } if (militaryTimeMM.length &gt; 0) { return (militaryTimeHH + ':' + militaryTimeMM + militaryTimeAMPM); } else { return (militaryTimeHH + militaryTimeAMPM); } } else { return ''; } }, /** * Gets an array containing random colors * @function * @param {number} length The length of the array to return * @returns {number[]} An array with each element containing a randomly generated hex color code */ getRandomColorArray(length) { const randomColors = []; for (let i = 0; i &lt; length; ++i) { randomColors.push(this.getRandomColor()); } return randomColors; }, /** * Generates random color hex * @function * @returns {string} A randomly generated hex color code */ getRandomColor() { return '#' + ('000000' + Math.random().toString(16).slice(2, 8).toUpperCase()).slice(-6); }, /** * Gets a linear sorting function based on a given property of the input objects * @function * @param {string} property The property the sorting function should concern itself with * @returns {function} A sorting function that compares inputs based on one of their properties */ dynamicSort(property) { return function(a, b) { return (a[property] &lt; b[property]) ? -1 : (a[property] &gt; b[property]) ? 1 : 0; } }, /** * This is a comparison function used for sorting markers * @function * @param {Object} a The first marker to compare * @param {number} a.distance The first distance * @param {Object} b The second marker to compare * @param {number} b.distance The second distance * @return {number} -1 if a is less-than b, 0 if they are equal, 1 if a is greater-then b * @todo This function is already handled by the one returned by dynamicSort() */ sortNearbyMarkers(a, b) { if (a.distance &lt; b.distance) { return -1; } else if (a.distance &gt; b.distance) { return 1; } else { return 0; } } }; × Search results Close "},"util_logger.js.html":{"id":"util_logger.js.html","title":"Source: util/logger.js","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Source: util/logger.js const AppSettings = require('../AppSettings'); const GoogleAnalytics = require('react-native-google-analytics-bridge'); GoogleAnalytics.setTrackerId(AppSettings.GOOGLE_ANALYTICS_ID); /** * A module containing logging helper functions * @module util/logger */ module.exports = { /** * Send a log message to the console * @function * @param {string} msg The message to log */ log(msg) { console.log(msg); }, /** * Send an error message to the console * If debugging is enabled, the message is sent as an error (e.g. stderr) * @function * @param {string} msg The error message to log */ error(msg) { if (AppSettings.DEBUG_ENABLED) { console.error(msg); } else { console.log(msg); } }, /** * Sends a log message to Google Analytics as well as the local console * @function * @param {string} msg The message to to log */ ga(msg) { this.log(msg); GoogleAnalytics.trackScreenView(msg); }, }; × Search results Close "},"util_shuttle.js.html":{"id":"util_shuttle.js.html","title":"Source: util/shuttle.js","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Source: util/shuttle.js /** * A module containing shuttle-related helper functions * @module util/shuttle */ module.exports = { /** * Gets the minutes of &quot;estimated time of arrival&quot; from an amount of seconds * @function * @param {number} secondToArrival The number of seconds until arrival * @returns {string} A user-friendly respresentation of the number of minutes */ getMinutesETA(secondsToArrival) { if (secondsToArrival &lt; 1) { return ('Arrived'); } else if (secondsToArrival &lt; 60) { return ('&lt;1 min'); } else { let secondsToArrivalDec = secondsToArrival; let minsToArrival = 1; while (secondsToArrivalDec &gt; 60) { secondsToArrivalDec -= 60; minsToArrival++; } if (minsToArrival === 1) { return ('1 min'); } else { return (minsToArrival + ' mins'); } } }, }; × Search results Close "},"views_FeedbackView.js.html":{"id":"views_FeedbackView.js.html","title":"Source: views/FeedbackView.js","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Source: views/FeedbackView.js import React, { Component } from 'react'; import { Text, View, ScrollView, TouchableHighlight, InteractionManager, ActivityIndicator, TextInput, StyleSheet, Alert, } from 'react-native'; import { getPRM, round, getCampusPrimary } from '../util/general'; const css = require('../styles/css'); const logger = require('../util/logger'); const AppSettings = require('../AppSettings'); export default class FeedbackView extends Component { constructor(props) { super(props); this.state = { commentsText: '', nameText: '', emailText: '', loaded: false, submit: false, }; } componentDidMount() { logger.ga('View Loaded: Feedback'); InteractionManager.runAfterInteractions(() =&gt; { this.setState({ loaded: true }); }); } /** * Called after state change * @return bool whether the component should re-render. **/ shouldComponentUpdate(nextProps, nextState) { return true; } _postFeedback() { if (this.state.commentsText !== '') { const formData = new FormData(); formData.append('element_1', this.state.commentsText); formData.append('element_2', this.state.nameText); formData.append('element_3', this.state.emailText); formData.append('form_id','175631'); formData.append('submit_form','1'); formData.append('page_number','1'); formData.append('submit_form','Submit'); fetch('https://eforms.ucsd.edu/view.php?id=175631', { method: 'POST', body: formData }) .then((response) =&gt; { Alert.alert( 'Thank you!', 'We will take your feedback into consideration as we continue developing and improving the app.', ); this.setState({ submit: true, commentsText: '', nameText: '', emailText: '', }); }) .then((responseJson) =&gt; { // logger.log(responseJson); }) .catch((error) =&gt; { // logger.error(error); }); } else { return; } } _renderLoadingView() { return ( &lt;View style={css.main_container}&gt; &lt;ActivityIndicator animating={true} style={styles.loading_icon} size=&quot;large&quot; /&gt; &lt;/View&gt; ); } _renderFormView() { return ( &lt;View style={css.main_container}&gt; &lt;ScrollView&gt; &lt;View style={styles.feedback_container}&gt; &lt;Text style={styles.feedback_label}&gt; Help us make the {AppSettings.APP_NAME} app better.{'\\n'} Submit your thoughts and suggestions. &lt;/Text&gt; &lt;View style={styles.feedback_text_container}&gt; &lt;TextInput multiline={true} value={this.state.commentsText} onChangeText={(text) =&gt; this.setState({ commentsText: text })} placeholder=&quot;Tell us what you think*&quot; underlineColorAndroid={'transparent'} style={styles.feedback_text} /&gt; &lt;/View&gt; &lt;View style={styles.text_container}&gt; &lt;TextInput value={this.state.nameText} onChangeText={(text) =&gt; this.setState({ nameText: text })} placeholder=&quot;Name&quot; underlineColorAndroid={'transparent'} style={styles.feedback_text} /&gt; &lt;/View&gt; &lt;View style={styles.text_container}&gt; &lt;TextInput value={this.state.emailText} onChangeText={(text) =&gt; this.setState({ emailText: text })} placeholder=&quot;Email&quot; underlineColorAndroid={'transparent'} style={styles.feedback_text} /&gt; &lt;/View&gt; &lt;TouchableHighlight underlayColor={'rgba(200,200,200,.1)'} onPress={() =&gt; this._postFeedback()}&gt; &lt;View style={styles.submit_container}&gt; &lt;Text style={styles.submit_text}&gt;Submit&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableHighlight&gt; &lt;/View&gt; &lt;/ScrollView&gt; &lt;/View&gt; ); } render() { // return this._renderSubmitView(); if (!this.state.loaded) { return this._renderLoadingView(); } else { return this._renderFormView(); } } } const styles = StyleSheet.create({ loading_icon: { flex: 1, alignItems: 'center', justifyContent: 'center' }, feedback_container: { flexDirection: 'column', marginHorizontal: 8, marginTop: 8 }, feedback_label: { flex: 1, flexWrap: 'wrap', fontSize: round(19 * getPRM()), paddingBottom: 16, lineHeight: 24 }, feedback_text: { backgroundColor: '#FFF', flex:1, fontSize: round(20 * getPRM()), alignItems: 'center', padding: 8 }, submit_container: { justifyContent: 'center', alignItems: 'center', backgroundColor: getCampusPrimary(), borderRadius: 3, padding: 10 }, submit_text: { fontSize: round(16 * getPRM()), color: '#FFF' }, feedback_text_container: { flex: 1, height: round(100 * getPRM()), borderColor: '#DADADA', borderBottomWidth: 1, marginBottom: 8 }, text_container: { height: round(50 * getPRM()), borderColor: '#DADADA', borderBottomWidth: 1, marginBottom: 8 }, }); × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Global Methods componentDidMount() Invoked after render Source: views/welcomeWeek/WelcomeWeekView.js, line 187 componentWillMount() Invoked before render Source: views/welcomeWeek/WelcomeWeekView.js, line 182 componentWillUnmount() Invoked before component is unmounted from DOM Source: views/welcomeWeek/WelcomeWeekView.js, line 205 shouldComponentUpdate() Called after state change Source: views/FeedbackView.js, line 36 Returns: bool whether the component should re-render. shouldComponentUpdate() Called after state change Source: views/welcomeWeek/WelcomeWeekView.js, line 197 Returns: bool whether the component should re-render. × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Modules Classes exports × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Classes Classes exports × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Campus Mobile appThe campus mobile app platform enables the university to deliver relevant information to students, staff, and visitors, taking the context of time and location into consideration. The platform uses React Native and implements a card based UI. The goal of this platform is to provide a responsive and intuitive native mobile interactions for a personalized campus experience. UC San Diego uses this platform for its campus mobile app on iOS and Android. Getting Started Follow the Getting Started guide for React Native From the project folder, run: npm install npm run-script apply-fixes For iOS, from the project folder, run: react-native run-ios For Android, from the project folder, run: react-native run-android DocumentationReview the modules documentation Building for AndroidUtility script to create an APK. This build script exists in a repository separate from the campus mobile app repository. // From an empty directory //Build APK one liner: git clone https://github.com/UCSD/campus-mobile-build-scripts.git &amp;&amp; cd campus-mobile-build-scripts &amp;&amp; npm install &amp;&amp; node build-apk.js //Build APK and install on device one liner: git clone https://github.com/UCSD/campus-mobile-build-scripts.git &amp;&amp; cd campus-mobile-build-scripts &amp;&amp; npm install &amp;&amp; node build-apk.js &amp;&amp; adb install ./bld/android/app/build/outputs/apk/app-release.apkBuilding for iOSTODO: add content Available Cards TopBanner For upcoming current events Weather &amp; Surf 5 day weather report Surf report link Shuttle Nearest shuttle stops and arrival times Shuttle stop info to view all shuttles en route Dining Nearest dining options with menu and nutritional information View all dining link Events Upcoming events View all events link Links A list of helpful links from our legacy app View all quick links link News Latest news articles View all news link Maps Searchable campus map View all link Screenshots LicenseMIT × Search results Close "},"module.exports.html":{"id":"module.exports.html","title":"Class: exports","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Class: exports exports new exports(props) Represents view for Welcome Week events Parameters: Name Type Description props Array.&lt;Object&gt; An array of properties passed in Source: views/welcomeWeek/WelcomeWeekView.js, line 23 × Search results Close "},"module-util_general.html":{"id":"module-util_general.html","title":"Module: util/general","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Module: util/general A module containing general helper functions Source: util/general.js, line 6 Methods &lt;static&gt; convertMetersToMiles(meters) Converts a numerical quantity from meters to miles Parameters: Name Type Description meters number The quantity to convert Source: util/general.js, line 45 Returns: The quantity now converted into miles Type number &lt;static&gt; doPRM(num) Modifies the input value by the pixel-ration-modifierThis can be used to scale a GUI element's size for the current device Parameters: Name Type Description num number The number/size to scale Source: util/general.js, line 182 To Do: This method could call this.getPRM() to prevent redundant code Returns: The now-scaled number/size Type number &lt;static&gt; dynamicSort(property) Gets a linear sorting function based on a given property of the input objects Parameters: Name Type Description property string The property the sorting function should concern itself with Source: util/general.js, line 326 Returns: A sorting function that compares inputs based on one of their properties Type function &lt;static&gt; getCampusPrimary() Gets the UCSD campus primary color in hexidecimal form Source: util/general.js, line 207 Returns: The string &quot;#182B49&quot; which represents a dark blue color Type string &lt;static&gt; getCurrentTimestamp() Gets the current timestamp in seconds Source: util/general.js, line 216 Returns: The number of seconds since midnight Jan 1, 1970 Type number &lt;static&gt; getDateNow() Gets the current date Source: util/general.js, line 244 Returns: The number of milliseconds since midnight Jan 1, 1970 Type number &lt;static&gt; getDirectionsURL(method, stopLat, stopLon) Gets the URL for obtaining directions to a given location via a given transportation method Parameters: Name Type Description method string Can be &quot;walk&quot; or anything else. Anything else will result in a URL for driving. stopLat string | number The latitude of the destination stopLon string | number The longitude of the destination Source: util/general.js, line 85 Returns: A platform-specific URL for obtaining the directions Type string &lt;static&gt; getDistanceMilesStr(miles) Gets a string representation of a given quantity of miles (up to and including a single decimal place) Parameters: Name Type Description miles number The quantity to convert to a string Source: util/general.js, line 55 Returns: The miles quantity now as a string Type number &lt;static&gt; getMaxCardWidth() Gets the maximum width for a card occupying a screen/window Source: util/general.js, line 195 Returns: The maximum width in pixels Type number &lt;static&gt; getPlatform() Gets the current platform ths app is running on Source: util/general.js, line 35 Returns: The platform name Type string &lt;static&gt; getPRM() Gets the pixel-ratio-modifier needed for this device windowThe modifier is a ratio to be used for scaling GUI elements based on the default sizes Source: util/general.js, line 167 To Do: The variable windowHeight is unused Returns: The ratio of current window width vs the app's default width Type number &lt;static&gt; getRandomColor() Generates random color hex Source: util/general.js, line 316 Returns: A randomly generated hex color code Type string &lt;static&gt; getRandomColorArray(length) Gets an array containing random colors Parameters: Name Type Description length number The length of the array to return Source: util/general.js, line 303 Returns: An array with each element containing a randomly generated hex color code Type Array.&lt;number&gt; &lt;static&gt; getTimestamp(The) Gets the current timestamp in a specified format Parameters: Name Type Description The string format to use (e.g. &quot;yyyymmdd&quot;) Source: util/general.js, line 235 Returns: The formatted current time Type string &lt;static&gt; getTimestampNumeric() Gets the current timestamp formatted as a string Source: util/general.js, line 225 Returns: The current time formatted to &quot;yyyymmdd&quot; Type string &lt;static&gt; gotoNavigationApp(method, destinationLat, destinationLon) Attempts to redirect the device to its navigation app Parameters: Name Type Description method string Currently not used, can be anything destinationLat string | number The destination's latitude destinationLon string | number The destination's longitude Source: util/general.js, line 115 &lt;static&gt; militaryToAMPM(The) Converts a time string provided in military form to AM-PM form Parameters: Name Type Description The string time in military form Source: util/general.js, line 254 Returns: The time in AM-PM form Type string &lt;static&gt; openURL(url) Attempts to open the provided URL for displaying to the user Parameters: Name Type Description url string The URL to open Source: util/general.js, line 67 To Do: Develop a more explicit/consistent return for this method Returns: If the URL cannot be opened, this logs to console. Otherwise, returns true.False can only be returned if the ability to open a URL changes between the check and the opening itself. Type boolean | undefined &lt;static&gt; platformAndroid() Gets whether or not the current platform the app is running on is Android Source: util/general.js, line 26 Returns: True if the platform is Android, false otherwise Type boolean &lt;static&gt; platformIOS() Gets whether or not the current platform the app is running on is IOS Source: util/general.js, line 17 Returns: True if the platform is IOS, false otherwise Type boolean &lt;static&gt; round(number) Rounds a number to the nearest integerAs examples: 2.49 will be rounded down to 2, while 2.5 will be rounded up to 3 Parameters: Name Type Description number number The number to round Source: util/general.js, line 156 Returns: The rounded number Type number &lt;static&gt; sortNearbyMarkers(a, b) This is a comparison function used for sorting markers Parameters: Name Type Description a Object The first marker to compare Properties Name Type Description distance number The first distance b Object The second marker to compare Properties Name Type Description distance number The second distance Source: util/general.js, line 342 To Do: This function is already handled by the one returned by dynamicSort() Returns: -1 if a is less-than b, 0 if they are equal, 1 if a is greater-then b Type number &lt;static&gt; startReloadAnimation(anim) Begins the app's reloading animation Parameters: Name Type Description anim View | Text | Image | Object The animation to use Source: util/general.js, line 136 &lt;static&gt; startReloadAnimation2(anim, toVal, duration) Begins the app's reloading animation with specific parameters Parameters: Name Type Description anim View | Text | Image | Object The animation to use toVal number The value to approach duration number The duration of the animation Source: util/general.js, line 127 &lt;static&gt; stopReloadAnimation(anim) Stops the specified reload animation Parameters: Name Type Description anim View | Text | Image | Object The animation to stop Source: util/general.js, line 145 × Search results Close "},"module-util_logger.html":{"id":"module-util_logger.html","title":"Module: util/logger","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Module: util/logger A module containing logging helper functions Source: util/logger.js, line 6 Methods &lt;static&gt; error(msg) Send an error message to the consoleIf debugging is enabled, the message is sent as an error (e.g. stderr) Parameters: Name Type Description msg string The error message to log Source: util/logger.js, line 27 &lt;static&gt; ga(msg) Sends a log message to Google Analytics as well as the local console Parameters: Name Type Description msg string The message to to log Source: util/logger.js, line 40 &lt;static&gt; log(msg) Send a log message to the console Parameters: Name Type Description msg string The message to log Source: util/logger.js, line 17 × Search results Close "},"module-util_map.html":{"id":"module-util_map.html","title":"Module: util/map","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Module: util/map A module containing map-related helper functions Source: util/map.js, line 19 Methods &lt;static&gt; getDistance(lat1, lon1, lat2, lon2) Gets the surface distance between two Earth coordinates in meters Parameters: Name Type Description lat1 number The latitude of the first point lon1 number The longitude of the first point lat2 number The latitude of the second point lon2 number The longitude of the second point Source: util/map.js, line 34 Returns: Null if any of the inputs were null. Otherwise, the distance in meters (rounded down the nearest integer) Type number | null &lt;static&gt; getMidpointCoords(lat1, lon1, lat2, lon2) Gets the coordinates of the midpoint between two coordinates Parameters: Name Type Description lat1 number The latitude of the first point lon1 number The longitude of the first point lat2 number The latitude of the second point lon2 number The longitude of the second point Source: util/map.js, line 58 Returns: The midpoint coordinates stored in a 2-length array with the form {latitude, longitude} Type Array.&lt;number&gt; × Search results Close "},"module-util_shuttle.html":{"id":"module-util_shuttle.html","title":"Module: util/shuttle","body":" DocStrap Modules util/generalutil/loggerutil/maputil/shuttle Classes module.exports Global componentDidMountcomponentWillMountcomponentWillUnmountshouldComponentUpdate Module: util/shuttle A module containing shuttle-related helper functions Source: util/shuttle.js, line 1 Methods &lt;static&gt; getMinutesETA(secondToArrival) Gets the minutes of &quot;estimated time of arrival&quot; from an amount of seconds Parameters: Name Type Description secondToArrival number The number of seconds until arrival Source: util/shuttle.js, line 13 Returns: A user-friendly respresentation of the number of minutes Type string × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
